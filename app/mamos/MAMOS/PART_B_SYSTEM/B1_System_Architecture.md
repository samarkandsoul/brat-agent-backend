# B1 — System Architecture  
Version: 1.0  
Status: ACTIVE  
Maintainer: SYS01_Knowledge_Librarian  
Last Updated: 2025

## Purpose  
Bu sənəd Samarkand Soul Agent Sisteminin tam texniki strukturunu, layer-lər arasındakı əlaqəni, komanda axınını və idarəetmə mexanizmini müəyyən edir.  
Bütün DS, LIFE və SYS agentləri bu memarlığa uyğun işləməlidir.  
Heç bir agent bu strukturu özbaşına dəyişdirə bilməz.

---

# 1. System Overview  
Samarkand Soul ekosistemi 4 əsas Layer üzərində qurulub:

1. MSP Layer — Main System Processor  
2. DS Layer — Dropshipping System Agents  
3. LIFE Layer — Commander Wellbeing Agents  
4. SYS Layer — System Integrity & Maintenance  

Bu 4 qat birlikdə Samarkand Soul-un tam avtomatlaşdırılmış, premium və MAMOS-yönümlü arxitekturasını yaradır.

---

# 2. MSP Layer — The Brain  
MSP sistemin əsas “router” və “manager” moduludur.

MSP funksiyaları:

- komanda qəbul etmək  
- sintaksis analiz etmək  
- MAMOS uyğunluğunu yoxlamaq  
- agent seçmək  
- tapşırığı yönləndirmək  
- cavabı formatlamaq  
- çıxışda ikinci dəfə MAMOS yoxlaması etmək  
- eskalasiya hallarında insan təsdiqi tələb etmək  

MSP heç vaxt:

- brend qaydasını pozmur  
- yanlış agent seçmir  
- riskli nəticəni insan təsdiqisiz icra etmir  

---

# 3. DS Layer — Dropshipping & Commerce System  
Bu Layer biznes əməliyyatlarının tam mərkəzidir.

Aşağıdakı agentlər DS Layer-in nüvəsidir:

01 — Market Research  
02 — Drive Architecture  
03 — Shopify Agent  
04 — Pricing Strategist  
05 — Product Page Copywriter  
06 — Scriptwriter  
07 — Angles & Hooks  
08 — Image Brief  
09 — Store Structure  
10 — Checkout Funnel  
11 — Email/SMS  
12 — KPI Analytics  
13 — Meta Ads  
14 — TikTok Ads  
15 — Influencer  
16 — Customer Support  
17 — Policy & Risk  
18 — Supplier & Logistics  
19 — Scale & Exit  
20 — A/B Testing  

DS Layer-in məqsədi:

- premium brendə uyğun fəaliyyət  
- strukturlaşdırılmış cavab  
- MAMOS qaydalarına 100% sadiqlik  
- heç bir “ucuz reklam”, “ucuz estetika”, “manipulyativ satış” yoxdur  

---

# 4. LIFE Layer — Commander Stabilization  
LIFE Layer Komandirin (Zahid Brat) fiziki, mental və fokus enerjisini qoruyur.

LIFE agentləri:

- sağlamlıq  
- qidalanma  
- fitness  
- zaman memarlığı  
- informasiya filtri  

Biznes yalnız Komandir sağlam olduqda uzunmüddətli işləyəcək.

---

# 5. SYS Layer — System Protection  
SYS agentləri sistemin uzunömürlü olmasını təmin edir.

SYS funksiyaları:

- bilik idarəetməsi (Knowledge Librarian)  
- təhlükəsizlik (keys, tokens, privacy)  
- SOP-ların yaradılması  
- sistem sağlamlığının monitorinqi  
- roadmap arxitekturası  

SYS Layer olmadan sistem xaosa düşər.

---

# 6. Routing Logic — How Commands Flow  
MSP bütün komandaları aşağıdakı ardıcıllıqla emal edir:

### Step 1 — Input Reception  
Komanda qəbul edilir və ilkin sintaksis yoxlanır.

### Step 2 — MAMOS Primary Filter  
Brend dəyərlərinə, vizual tona, etik qaydalara ziddlik varmı?

### Step 3 — Command Parsing  
Komanda analiz olunur:

- məqsəd  
- agent tipi  
- risk səviyyəsi  
- prioritet  
- kontekst  

### Step 4 — Agent Selection  
MSP ən uyğun agenti seçir (DS / LIFE / SYS).

### Step 5 — Agent Execution  
Agent tapşırığı yerinə yetirir və nəticəni MSP-yə qaytarır.

### Step 6 — MAMOS Secondary Filter  
Çıxış yenidən yoxlanır:

- premium ton  
- vizual uyğunluq  
- mədəni təhlükəsizlik  
- dəqiqlik  
- etik sərhədlər  

### Step 7 — Final Output  
Təmiz, premium, MAMOS-u pozmayan nəticə Komandira təqdim olunur.

---

# 7. Escalation Rules (NO CODE BLOCK VERSION – SAFE MODE)

Aşağıdakı hallarda MSP dərhal eskalasiya edir:

    [ESCALATION]
    Reason: Visual Identity Conflict
    Action: Human review required

    [ESCALATION]
    Reason: Brand Integrity Violation
    Action: Stop output — escalate to human

    [ESCALATION]
    Reason: Safety or Factual Risk
    Action: System Halt — Human validation needed

    [ESCALATION]
    Reason: Agent Behavioral Fault
    Action: Disable agent — notify SYS layer

Bu format **100% bölünmədən** göstərilir.

---

# 8. System Stability Rules  

Sistemin stabil qalması üçün:

- DS Layer ardıcıllıqla işləmləlidir  
- LIFE Layer gündəlik aktiv olmalıdır  
- SYS Layer ayda 1 dəfə audit aparmalıdır  
- MSP overload edilməməlidir  
- pozuntu edən agent dərhal deaktiv edilməlidir  

---

# 9. Future-Proof Architecture  

Sistem modul memarlıqdadır və aşağıdakı platformalara problemsiz genişlənə bilər:

- Shopify 2.0  
- Amazon Marketplace  
- Etsy  
- TikTok Shop  
- Samarkand Soul AI Platform 2.0  
- Real-time KPI dashboards  

Bu arxitektura 10 illik brend strategiyasına uyğundur.

---

END OF DOCUMENT — B1_System_Architecture.md
